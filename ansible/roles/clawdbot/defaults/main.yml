---
# Clawdbot role defaults

# User to run clawdbot as (from vars/user.yml typically)
clawdbot_user: "{{ username }}"

# Workspace
clawdbot_workspace_repo: ""  # Required: git repo for workspace (e.g., git@github.com:user/clawd.git)
clawdbot_workspace_path: "/home/{{ clawdbot_user }}/clawd"

# Installation
clawdbot_install_method: "npm"  # npm only for now (git not implemented)
clawdbot_npm_package: "clawdbot"
clawdbot_version: ""  # Pin to specific version, e.g., "1.2.3" (empty = latest)

# Config location
clawdbot_config_dir: "/home/{{ clawdbot_user }}/.clawdbot"
clawdbot_config_file: "{{ clawdbot_config_dir }}/clawdbot.json"

# 1Password integration
# Service account token fetched from Infrastructure vault, allows Clawdbot to access openclaw vault at runtime
clawdbot_op_service_account_token: "{{ lookup('community.general.onepassword', 'openclaw-sa-token', field='credential', vault=onepassword_vault, account_id=onepassword_account_id) }}"
clawdbot_op_vault: "openclaw"          # Vault name Clawdbot accesses at runtime
# Items in openclaw vault:
#   - "openclaw anthropic" - Anthropic API key
#   - "github" - GitHub credentials  
#   - "openai - text embedding for memory search" - OpenAI embeddings
#   - "discord clawdbot" - Discord bot token
#   - "mail.jasonernst.com - kai" - Email credentials

# Tailscale Serve (recommended for web UI auth)
clawdbot_tailscale_serve: true
clawdbot_bind: "localhost"  # Bind to localhost when using Tailscale Serve
clawdbot_port: 18789

# Gateway options
clawdbot_gateway_extra_args: ""

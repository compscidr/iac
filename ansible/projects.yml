---
# Projects playbook - deploys toy projects to consolidated droplet
# Usage: ansible-playbook -i inventory.yml projects.yml

- name: Deploy projects
  hosts: projects
  vars_files:
    - vars/user.yml
  vars:
    # Enable nginx fail2ban jails (logs mounted from Docker)
    fail2ban_nginx_enabled: true
    fail2ban_nginx_botscan_enabled: true
  roles:
    - projects   # Deploy nginx first so logs exist
    - fail2ban   # Then fail2ban can monitor logs
